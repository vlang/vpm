@include 'header'

.content {
  .title {
    <span>Package Manager for the <span id="v-letter">V</span> Language</span>
  }

  .row {
    .buttons {
      <a id="browse-button" class="button" href="/browse">
        <span class="icon">
          <img src="/browse.svg" width="32" height="32" />
        </span>
        <span>
          Browse packages
        </span>
      </a>
      <a id="new-button" class="button" href="/create">
        <span class="icon">
          <img src="/new.svg" width="32" height="32" />
        </span>
        <span>
          Submit a module
        </span>
      </a>
    }
  
    <span class="packages-nr-info">
      <span class="highlight">
        @nr_packages
      </span>
      <span>
        packages
      </span>
    </span>
  }

  .packages {
    .packages-column {
      <span>New packages</span>
      @for new_p in new_packages
        <a class="package" href="@new_p.repo_url">
          .package-info {
            <span class="name">@new_p.name</span>
            <span class="version">@new_p.version</span>
          }

          .package-icon {
            <img src="/arrow.svg" height="35" />
          }
        </a>
      @end
    }

    .packages-column {
      <span>Most Downloaded</span>
      @for md_p in most_downloaded_packages
        <a class="package" href="@md_p.repo_url">
          .package-info {
            <span class="name">@md_p.name</span>
            <span class="version">@md_p.version</span>
          }
          .package-icon {
            <img src="/arrow.svg" height="35" />
          }
        </a>
      @end
    }

    .packages-column {
      <span>Recently updated</span>
      @for ru_p in recently_updated_packages
        <a class="package" href="@ru_p.repo_url">
          .package-info {
            <span class="name">@ru_p.name</span>
            <span class="version">@ru_p.version</span>
          }

          .package-icon {
            <img src="/arrow.svg" height="35" />
          }
        </a>
      @end
    }

    .packages-column {
      <span>Most Recent Downloads</span>
      @for mrd_p in most_recent_downloads_packages
        <a class="package" href="@mrd_p.repo_url">
          .package-info {
            <span class="name">@mrd_p.name</span>
            <span class="version">@mrd_p.version</span>
          }

          .packages-icon {
            <img src="/arrow.svg" height="35" />
          }
        </a>
      @end
    }

    .packages-column {
      <span>Popular Tags <a href="/tags">(see all)</a></span>
      @for pt_p in popular_tags
        <a class="package" href="@pt_p.repo_url">
          .package-info {
            <span class="name">@pt_p.name</span>
            <span class="version">@pt_p.version</span>
          }

          .package-icon {
            <img src="/arrow.svg" height="35" />
          }
        </a>
      @end
    }

    .packages-column {
      <span>Popular Categories <a href="/categories">(see all)</a></span>
      @for pc_p in popular_categories
        <a class="package" href="@pc_p.repo_url">
          .package-info {
            <span class="name">@pc_p.name</span>
            <span class="version">@pc_p.version</span>
          }

          .package-icon {
            <img src="/arrow.svg" height="35" />
          }
        </a>
      @end
    }
  }
}

@include 'footer'